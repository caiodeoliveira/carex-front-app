<section>
    <p-table *ngIf="dataTableType == 'programming-table' " [value]="tableData" [rows]="2" [paginator]="paginatorActivator" [rowsPerPageOptions]="[2, 5, 10, 25]">
        <ng-template pTemplate="header">
            <tr>
                <th class="confirm-attendance-header">Confirmar Consulta</th>
                <th class="undo-action-header">Desfazer última Ação</th>
                <th class="delete-schedule-header">Deletar Consulta</th>
                <th class="delete-schedule-header">Status</th>
                <th class="name-header">Nome</th>
                <th class="date-hour-header">Data / Hora</th>
                <th class="phone-header">Cel</th>
                <th class="model-header">Modelo</th>
                <th class="location-header">Local</th>
                <th class="location-header">Cidade</th>
                <th class="location-header">Endereço</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-data>
            <tr ngClass="table-row-body">
                <td class="status-data" ngClass="table-confirm-button-container {{data.status == 'Confirmado' ? 'confirmed' : ''}}">
                    <app-button-component (click)="confirmSchedule(data)" buttonType="confirm-schedule-button"/>
                </td>
                <td *ngIf="!isUndoButtonActive" class="status-data" class="table-confirm-button-container {{data.status == 'Confirmado' ? 'confirmed' : ''}}">
                    <app-button-component buttonType="disabled-undo-action-button"/>
                </td>
                <td *ngIf="isUndoButtonActive" class="status-data" class="table-confirm-button-container {{data.status == 'Confirmado' ? 'confirmed' : ''}}">
                    <app-button-component (click)="undoLastAction()" buttonType="undo-action-button"/>
                </td>
                <td class="table-delete-button-container {{data.status == 'Confirmado' ? 'confirmed' : ''}}">
                    <app-button-component (click)="deleteSchedule(data)" buttonType="remove-schedule-button" />
                </td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed-nowrap' : 'nowrap'">{{ data.status }}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed' : ''">{{ data.name }}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed-nowrap' : 'nowrap'">{{ data.attendanceDate | date: 'dd/MM/yy' }} <b>/</b> {{data.attendanceHour}}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed-nowrap' : 'nowrap'">{{ data.patientPhoneNumber }}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed' : ''">{{ data.paymentType }}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed' : ''">{{ data.attendanceLocation }}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed' : ''">{{ data.attendanceCity }}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed' : ''">{{ data.attendanceAddress }}</td>
            </tr>
        </ng-template>
    </p-table>

    <p-table *ngIf="dataTableType == 'search-schedule-table' " [value]="tableData" [rows]="2" [paginator]="paginatorActivator" [rowsPerPageOptions]="[2, 5, 10, 25]">
        <ng-template pTemplate="header">
            <tr *ngFor="let data of tableData">
                <th class="delete-schedule-header">Status</th>
                <th class="name-header">Nome</th>
                <th class="date-hour-header">Data / Hora</th>
                <th class="phone-header">Cel</th>
                <th class="model-header">Modelo</th>
                <th class="location-header">Local</th>
                <th class="location-header">Cidade</th>
                <th *ngIf="data.attendanceAddress" class="location-header">Endereço</th>
                <th class="confirm-attendance-header">Reagendar Consulta</th>
                <th *ngIf="isReschedullingFieldActive" class="confirm-attendance-header">Cancelar Reagendamento</th>
                <th *ngIf="isReschedullingFieldActive && reschedullingDate" class="confirm-attendance-header">Confirmar Reagendamento</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-data>
            <tr ngClass="table-row-body">
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed-nowrap' : 'nowrap'">{{ data.status }}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed' : ''">{{ data.name }}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed-nowrap' : 'nowrap'">{{ data.attendanceDate | date: 'dd/MM/yy' }} <b>/</b> {{data.attendanceHour}}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed-nowrap' : 'nowrap'">{{ data.patientPhoneNumber }}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed' : ''">{{ data.paymentType }}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed' : ''">{{ data.attendanceCity }}</td>
                <td [ngClass]="data.status == 'Confirmado' ? 'confirmed' : ''">{{ data.attendanceLocation }}</td>
                <td *ngIf="data.attendanceAddress" [ngClass]="data.status == 'Confirmado' ? 'confirmed' : ''">{{ data.attendanceAddress }}</td>
                <td class="{{isReschedullingFieldActive ? 'reschedulling-container-expanded' : ''}}" ngClass="table-confirm-button-container {{data.status == 'Confirmado' ? 'confirmed' : ''}}">
                    <app-button-component *ngIf="!isReschedullingFieldActive" (click)="toggleReschedullingField()" buttonType="reschedulling-button"/>
                    <p-calendar
                        *ngIf="isReschedullingFieldActive"
                        id="schedule-date-input"
                        inputId="schedule-date-input"
                        dateFormat="dd/mm/yy"
                        [disabledDates]="unavailableDates"
                        [locale]="pt"
                        placeholder="Escolha uma Data"
                        (ngModelChange)="getUnavailableDates()"
                        [(ngModel)]="reschedullingDate">
                    </p-calendar>
                </td>
                <td *ngIf="isReschedullingFieldActive" ngClass="table-confirm-button-container {{data.status == 'Confirmado' ? 'confirmed' : ''}}">
                    <app-button-component *ngIf="isReschedullingFieldActive" (click)="toggleReschedullingField()" buttonType="deactivate-reschedulling-button"/>
                </td>
                <td *ngIf="isReschedullingFieldActive && reschedullingDate" ngClass="table-confirm-button-container {{data.status == 'Confirmado' ? 'confirmed' : ''}}">
                    <app-button-component *ngIf="isReschedullingFieldActive && reschedullingDate" (click)="toggleReschedullingField()" buttonType="confirm-reschedulling-button"/>
                </td>
            </tr>
        </ng-template>
    </p-table>
</section>